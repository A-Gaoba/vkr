import{j as e,r as h,f as x,b as g,A as N}from"./index-B_5xIYw0.js";import{u as b}from"./useFetchData-BEg0hZM0.js";const l=({label:m,type:o,name:a,value:n,onChange:s,options:c,className:t,required:r,placeholder:i})=>e.jsx("div",{className:t,children:e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:[m," ",r&&e.jsx("span",{className:"text-black",children:"*"}),":",o!=="select"?e.jsx("input",{type:o,name:a,value:n,onChange:s,required:r,placeholder:i,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}):e.jsxs("select",{name:a,value:n,onChange:s,required:r,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:i}),c&&c.map(d=>e.jsx("option",{value:d.id,children:d.level},d.id))]})]})}),j=()=>{const{classes:m,loading:o}=b(),[a,n]=h.useState({firstName:"",middleName:"",lastName:"",email:"",password:"",dateOfBirth:"",phoneNumber:"",address:"",city:"",image:"",gender:"OTHER",classId:""}),s=t=>{const{name:r,value:i}=t.target,d=(u,p)=>["classId"].includes(u)?p?parseInt(p,10):"":p;n(u=>({...u,[r]:d(r,i)}))},c=async t=>{t.preventDefault();try{await g.post(`${N}/students`,a),alert("Student added successfully!"),n({firstName:"",middleName:"",lastName:"",email:"",password:"",dateOfBirth:"",phoneNumber:"",address:"",city:"",image:"",gender:"OTHER",classId:""})}catch(r){console.error("Error submitting form:",r),alert("Failed to add student. Please check the console for more details.")}};return o?e.jsx(x,{}):e.jsxs("form",{onSubmit:c,className:"max-w-4xl mx-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(l,{label:"First Name",type:"text",name:"firstName",value:a.firstName,onChange:s,placeholder:"Enter first name",className:"col-span-1",required:!0}),e.jsx(l,{label:"Middle Name",type:"text",name:"middleName",value:a.middleName,onChange:s,placeholder:"Enter middle name",className:"col-span-1"}),e.jsx(l,{label:"Last Name",type:"text",name:"lastName",value:a.lastName,onChange:s,placeholder:"Enter last name",className:"col-span-1",required:!0}),e.jsx(l,{label:"Email",type:"email",name:"email",value:a.email,onChange:s,placeholder:"Enter email",className:"col-span-1",required:!0}),e.jsx(l,{label:"Password",type:"password",name:"password",value:a.password,onChange:s,placeholder:"Enter password",className:"col-span-1",required:!0}),e.jsx(l,{label:"Date of Birth",type:"date",name:"dateOfBirth",value:a.dateOfBirth,onChange:s,placeholder:"Enter date of birth",className:"col-span-1",required:!0}),e.jsx(l,{label:"Phone Number",type:"tel",name:"phoneNumber",value:a.phoneNumber,onChange:s,placeholder:"Enter phone number",className:"col-span-1",required:!0}),e.jsx(l,{label:"Address",type:"text",name:"address",value:a.address,onChange:s,placeholder:"Enter address",className:"col-span-2",required:!0}),e.jsx(l,{label:"City",type:"text",name:"city",value:a.city,onChange:s,placeholder:"Enter city",className:"col-span-1",required:!0}),e.jsx(l,{label:"Image URL",type:"text",name:"image",value:a.image,onChange:s,placeholder:"Enter image URL",className:"col-span-1"}),e.jsx(l,{label:"Gender",type:"select",name:"gender",value:a.gender,onChange:s,placeholder:"Select gender",className:"col-span-1",required:!0,options:[{id:"MALE",level:"MALE"},{id:"FEMALE",level:"FEMALE"},{id:"OTHER",level:"OTHER"}]}),e.jsx(l,{label:"Class ID",type:"select",name:"classId",value:a.classId,onChange:s,placeholder:"Select class",required:!0,options:m.map(t=>({id:t.id,level:`Level ${t.level}`})),className:"col-span-1"}),e.jsx("div",{className:"col-span-full",children:e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:"Add Student"})})]})};export{j as default};
