import{r as t,j as e,b as u,A as m}from"./index-DUfxJ4v1.js";const j=()=>{const[l,r]=t.useState(""),[n,o]=t.useState(""),[c,i]=t.useState(null),[x,h]=t.useState([]),[p,d]=t.useState(!1);t.useState(null),t.useEffect(()=>{(async()=>{try{const a=await u.get(`${m}/classes`);h(a.data)}catch(a){console.error("Error fetching classes:",a)}})()},[]);const b=async s=>{s.preventDefault(),d(!0);try{await u.post(`${m}/subjects`,{name:l,description:n,classId:c}),alert("Subject created successfully"),r(""),o(""),i(null)}catch(a){console.error("Error creating subject",a),alert("Error creating subject")}finally{d(!1)}};return p?e.jsx("div",{children:"loading ..."}):e.jsxs("div",{className:"max-w-5xl mx-auto p-8 bg-white shadow-md rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Create Subject"}),e.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:["Name ",e.jsx("span",{className:"text-black",children:"*"}),":"]}),e.jsx("input",{type:"text",id:"name",value:l,onChange:s=>r(s.target.value),required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter subject name"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Description:"}),e.jsx("input",{type:"text",id:"description",value:n,onChange:s=>o(s.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter subject description"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"class",children:"Class:"}),e.jsxs("select",{id:"class",value:c||"",onChange:s=>i(Number(s.target.value)),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",title:"Select Class",children:[e.jsx("option",{value:"",children:"Select Class"}),x.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx("div",{className:"col-span-full text-center",children:e.jsx("button",{type:"submit",className:"bg-dark-purple text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create Subject"})})]})]})};export{j as default};
