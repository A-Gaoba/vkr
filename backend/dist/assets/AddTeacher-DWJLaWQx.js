import{j as e,r as u,b as g,A as b}from"./index-B_5xIYw0.js";const E=({subjects:o,selectedSubjects:t,handleSubjectsChange:n})=>e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Select Subjects"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(l=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`subject-${l.id}`,checked:t.includes(l.id),onChange:()=>n(l.id),className:"mr-2"}),e.jsx("label",{htmlFor:`subject-${l.id}`,className:"text-gray-700",children:l.name})]},l.id))})]}),S=({teacherData:o,handleInputChange:t,handleSubmit:n,classes:l})=>{const r=(a,i,h="text",d=!1,m="")=>e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:[a,d&&e.jsx("span",{className:"text-black mr-2",children:"*"}),":",e.jsx("input",{type:h,name:i,value:o[i],onChange:t,required:d,placeholder:m,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})}),p=(a,i,h,d=!1)=>e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:[a,d&&e.jsx("span",{className:"text-black mr-2",children:"*"}),":",e.jsxs("select",{name:i,value:o[i],onChange:t,required:d,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsxs("option",{value:"",children:["Select ",a]}),h.map(m=>e.jsx("option",{value:m,children:m},m))]})]})}),f=()=>e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:["Class:",e.jsxs("select",{name:"classId",value:o.classId||"",onChange:t,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:"Select Class"}),l.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]})});return e.jsxs("form",{onSubmit:n,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[r("First Name","firstName","text",!0,"Enter first name"),r("Middle Name","middleName","text",!1,"Enter middle name"),r("Last Name","lastName","text",!0,"Enter last name"),r("Email","email","email",!0,"Enter email"),r("Password","password","password",!0,"Enter password"),p("Gender","gender",["MALE","FEMALE","OTHER"],!0),r("Date of Birth","dateOfBirth","date",!1,"Select date of birth"),r("Phone","phone","text",!1,"Enter phone number"),r("Years of Experience","yearsOfExperience","number",!1,"Enter years of experience"),r("Bio","bio","text",!1,"Enter bio"),r("Image URL","image","text",!1,"Enter image URL"),f()," ",e.jsx("div",{className:"col-span-full text-center",children:e.jsx("button",{type:"submit",className:"bg-dark-purple text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create Teacher"})})]})},w=()=>{const o={firstName:"",middleName:"",lastName:"",email:"",password:"",gender:"OTHER",dateOfBirth:"",phone:"",yearsOfExperience:0,bio:"",image:"",classId:void 0,subjectsTaught:[]},[t,n]=u.useState(o),[l,r]=u.useState([]),[p,f]=u.useState([]),[a,i]=u.useState([]);u.useEffect(()=>{(async()=>{try{const s=await g.get(`${b}/classes`);f(s.data)}catch(s){console.error("Error fetching classes",s)}})()},[]);const h=async c=>{try{const s=await g.get(`${b}/classes/${c}/subjects`);r(s.data)}catch(s){console.error("Error fetching subjects for class",s)}},d=c=>{const{name:s,value:x}=c.target;if(s==="yearsOfExperience")n({...t,[s]:parseInt(x,10)});else if(s==="classId"){const j=parseInt(x,10);n({...t,[s]:j}),h(j)}else n({...t,[s]:x})},m=c=>{const s=a.includes(c)?a.filter(x=>x!==c):[...a,c];i(s),n({...t,subjectsTaught:s})},N=async c=>{c.preventDefault(),console.log("Submitting teacher data:",t);try{await g.post(`${b}/teachers`,t),alert("Teacher created successfully"),n(o),i([])}catch(s){console.error("Error creating teacher",s),alert("Error creating teacher")}};return e.jsxs("div",{className:"max-w-5xl mx-auto p-8 bg-white shadow-md rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Create Teacher"}),e.jsx(S,{teacherData:t,handleInputChange:d,handleSubmit:N,classes:p}),e.jsx(E,{subjects:l,selectedSubjects:a,handleSubjectsChange:m})]})};export{w as default};
