import{j as e,L as m,r as f,f as g}from"./index-DUfxJ4v1.js";import{f as y}from"./format-cwXK75ha.js";import{u as v,P as k}from"./usePagination-B1FPMLfT.js";import{u as w}from"./useFetchData-FiUhK636.js";const C=({student:s,index:l,classLevel:n})=>{const r=y(new Date(s.dateOfBirth),"yyyy-MM-dd");return e.jsxs("tr",{children:[e.jsx("td",{className:"border p-1 text-center",children:l+1}),e.jsx("td",{className:"border p-1 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:"../../../../../../../public/person-svgrepo-com.svg",alt:`${s.firstName} ${s.lastName}`,className:"w-8 h-8 object-cover rounded-full"})})}),e.jsx("td",{className:"border p-1 text-center",children:`${s.firstName} ${s.lastName}`}),e.jsx("td",{className:"border p-1 text-center",children:r}),e.jsx("td",{className:"border p-1 text-center",children:s.city}),e.jsx("td",{className:"border p-1 text-center",children:n}),e.jsx("td",{className:"border p-1 text-center",children:e.jsx(m,{to:`/admin/students/${s.id}`,children:e.jsx("button",{type:"button",className:"bg-dark-purple text-white px-4 py-2 rounded hover:bg-blue-600",children:"View"})})})]})},S=()=>{const{students:s,classes:l,loading:n}=w(),[r,h]=f.useState(null),p=10,c=t=>{const a=l.find(N=>N.id===t);return a?a.level:-1},d=r?s.filter(t=>t.classId!==null&&c(t.classId)===r):s,{currentPage:j,setCurrentPage:i,totalPages:u,paginatedItemsIndex:x}=v(d.length,p),b=d.slice(x.startIndex,x.endIndex),o=t=>{h(t),i(1)};return n?e.jsx(g,{}):e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-end text-white p-4",children:e.jsx(m,{to:"/admin/students/add",children:e.jsx("button",{type:"button",className:"bg-dark-purple p-2 text-white flex items-center mb-4",children:"Add Student"})})}),e.jsx("nav",{children:e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx("span",{className:"text-black text-lg font-semibold",children:"Level:"}),e.jsx("button",{type:"button",className:`ml-4 bg-dark-purple p-2 rounded-sm ${r===null?"text-dark-purple bg-white":""}`,onClick:()=>o(null),children:"All"}),[1,2,3,4,5,6,7,8,9,10,11,12].map(t=>e.jsx("button",{type:"button",className:`ml-4 bg-dark-purple p-2 rounded-sm text-sm${r===t?" text-dark-purple bg-white":""}`,onClick:()=>o(t),children:`Class ${t}`},t))]})}),e.jsxs("table",{className:"mt-8 w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-1 text-center",children:"No"}),e.jsx("th",{className:"border p-1 text-center",children:"Image"}),e.jsx("th",{className:"border p-1 text-center",children:"Name"}),e.jsx("th",{className:"border p-1 text-center",children:"BirthDay"}),e.jsx("th",{className:"border p-1 text-center",children:"City"}),e.jsx("th",{className:"border p-1 text-center",children:"Class"}),e.jsx("th",{className:"border p-1 text-center",children:"Action"})]})}),e.jsx("tbody",{children:b.map((t,a)=>e.jsx(C,{student:t,index:a+1,classLevel:c(t.classId)},t.id))})]}),e.jsx(k,{totalPages:u,currentPage:j,onPageChange:i})]})};export{S as default};
